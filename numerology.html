<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>ç”Ÿå‘½éˆæ•¸è¨ˆç®—</title>
    <style>
        :root {
            --primary-color: #2d3436;
            --accent-color: #00b894;
            --bg-color: #f1f2f6;
            --text-color: #2d3436;
            --border-color: #dfe6e9;
            --hover-color: #00cec9;
            --error-color: #d63031;
            --success-color: #00b894;
            --gradient-start: #00b894;
            --gradient-end: #00cec9;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), #636e72);
            padding: 1rem 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        .navbar .title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .navbar a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
        }
        .navbar a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .calc-box {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 18px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }
        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            align-items: center;
        }
        .date-input {
            flex: 1;
            padding: 12px;
            font-size: 1.1em;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .date-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(0, 184, 148, 0.1);
        }
        .calc-btn {
            padding: 12px 24px;
            font-size: 1.1em;
            color: white;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .calc-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.2);
        }
        .result-box {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            border-radius: 15px;
            color: white;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        .result-box.show {
            opacity: 1;
            transform: translateY(0);
        }
        .life-number {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .step-box {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: left;
        }
        .meaning-text {
            margin-top: 20px;
            line-height: 1.6;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <a href="#" onclick="goHome(event)">è¿”å›é¦–é </a>
        <span class="title">ğŸ”® ç”Ÿå‘½éˆæ•¸è¨ˆç®—</span>
    </div>
    <div class="container">
        <div class="calc-box">
            <div class="input-group">
                <input type="date" id="birthdate" class="date-input" required>
                <button onclick="calculateLifeNumber()" class="calc-btn">è¨ˆç®—ç”Ÿå‘½éˆæ•¸</button>
            </div>
            <div id="result" class="result-box">
                <div id="steps"></div>
                <div class="life-number" id="lifeNumber"></div>
                <div class="meaning-text" id="meaning"></div>
            </div>
        </div>
    </div>
    <script>
        function goHome(e) {
            e.preventDefault();
            if (window.top !== window.self) {
                window.top.location.href = 'index.html';
            } else {
                window.location.href = 'index.html';
            }
        }

        function sumDigits(num) {
            return num.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
        }

        function calculateLifeNumber() {
            const birthdate = document.getElementById('birthdate').value;
            if (!birthdate) {
                alert('è«‹é¸æ“‡å‡ºç”Ÿæ—¥æœŸï¼');
                return;
            }

            const [year, month, day] = birthdate.split('-').map(Number);
            
            // è¨ˆç®—å¹´ä»½æ•¸å­—ç¸½å’Œ
            const yearSum = sumDigits(year);
            
            // è¨ˆç®—æœˆä»½æ•¸å­—ç¸½å’Œ
            const monthSum = sumDigits(month);
            
            // è¨ˆç®—æ—¥æœŸæ•¸å­—ç¸½å’Œ
            const daySum = sumDigits(day);
            
            // è¨ˆç®—ä¸‰å€‹æ•¸çš„ç¸½å’Œ
            const totalSum = yearSum + monthSum + daySum;
            
            // è¨ˆç®—ç”Ÿå‘½éˆæ•¸çš„å®Œæ•´éç¨‹
            let steps = [];
            let currentSum = totalSum;
            let allNumbers = [currentSum];
            
            while (currentSum > 9) {
                currentSum = sumDigits(currentSum);
                allNumbers.push(currentSum);
            }

            // é¡¯ç¤ºè¨ˆç®—æ­¥é©Ÿ
            const stepsElement = document.getElementById('steps');
            const stepsList = [
                `å¹´ï¼š${year} â†’ ${year.toString().split('').join('+')} = ${yearSum}`,
                `æœˆï¼š${month} â†’ ${month.toString().split('').join('+')} = ${monthSum}`,
                `æ—¥ï¼š${day} â†’ ${day.toString().split('').join('+')} = ${daySum}`,
                `ç¬¬ä¸€æ­¥ç¸½å’Œï¼š${yearSum} + ${monthSum} + ${daySum} = ${totalSum}`
            ];

            // æ·»åŠ å¾ŒçºŒçš„æ‹†è§£æ­¥é©Ÿ
            for (let i = 0; i < allNumbers.length - 1; i++) {
                const current = allNumbers[i];
                const next = allNumbers[i + 1];
                stepsList.push(`æ‹†è§£æ­¥é©Ÿ ${i + 1}ï¼š${current} â†’ ${current.toString().split('').join('+')} = ${next}`);
            }

            stepsElement.innerHTML = `
                <div class="step-box">
                    ${stepsList.join('<br>')}
                </div>
            `;

            // é¡¯ç¤ºæœ€çµ‚çµæœ
            const lifeNumberElement = document.getElementById('lifeNumber');
            const finalNumber = allNumbers[allNumbers.length - 1];
            lifeNumberElement.textContent = finalNumber;
            
            // é¡¯ç¤ºç”Ÿå‘½éˆæ•¸å«ç¾©
            const meanings = {
                1: 'ç¨ç«‹ã€å‰µé€ åŠ›ã€é ˜å°åŠ›ã€‚ä½ å…·æœ‰å¼·çƒˆçš„å€‹æ€§å’Œå‰µæ–°ç²¾ç¥ã€‚',
                2: 'å’Œè«§ã€ç›´è¦ºã€åˆä½œã€‚ä½ æ“…é•·èˆ‡äººåˆä½œï¼Œå…·æœ‰æ•éŠ³çš„æ´å¯ŸåŠ›ã€‚',
                3: 'è¡¨é”ã€å‰µæ„ã€ç¤¾äº¤ã€‚ä½ å……æ»¿å‰µæ„å’Œè¡¨é”æ…¾æœ›ï¼Œæ“…é•·ç¤¾äº¤ã€‚',
                4: 'ç©©å®šã€å‹™å¯¦ã€çµ„ç¹”ã€‚ä½ æ³¨é‡ç´°ç¯€ï¼Œå…·æœ‰å¼·çƒˆçš„è²¬ä»»æ„Ÿã€‚',
                5: 'è‡ªç”±ã€å†’éšªã€è®ŠåŒ–ã€‚ä½ è¿½æ±‚è‡ªç”±ï¼Œå–œæ­¡å˜—è©¦æ–°äº‹ç‰©ã€‚',
                6: 'é—œæ‡·ã€è²¬ä»»ã€æ„›ã€‚ä½ å¯Œæœ‰åŒç†å¿ƒï¼Œé¡˜æ„ç‚ºä»–äººä»˜å‡ºã€‚',
                7: 'æ™ºæ…§ã€éˆæ€§ã€åˆ†æã€‚ä½ å…·æœ‰æ·±åº¦æ€è€ƒèƒ½åŠ›å’Œç²¾ç¥è¿½æ±‚ã€‚',
                8: 'åŠ›é‡ã€ç‰©è³ªã€æˆå°±ã€‚ä½ å…·æœ‰å•†æ¥­é ­è…¦å’Œå¯¦ç¾ç›®æ¨™çš„èƒ½åŠ›ã€‚',
                9: 'å¥‰ç»ã€ç†æƒ³ã€å®Œç¾ã€‚ä½ å¯Œæœ‰åŒæƒ…å¿ƒï¼Œè¿½æ±‚ç†æƒ³å’Œå®Œç¾ã€‚'
            };
            
            document.getElementById('meaning').textContent = meanings[finalNumber];
            document.getElementById('result').classList.add('show');
        }
    </script>
</body>
</html>
